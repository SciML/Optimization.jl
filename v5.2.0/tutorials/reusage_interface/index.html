<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Optimization Problem Reusage and Caching Interface · Optimization.jl</title><meta name="title" content="Optimization Problem Reusage and Caching Interface · Optimization.jl"/><meta property="og:title" content="Optimization Problem Reusage and Caching Interface · Optimization.jl"/><meta property="twitter:title" content="Optimization Problem Reusage and Caching Interface · Optimization.jl"/><meta name="description" content="Documentation for Optimization.jl."/><meta property="og:description" content="Documentation for Optimization.jl."/><meta property="twitter:description" content="Documentation for Optimization.jl."/><meta property="og:url" content="https://docs.sciml.ai/Optimization/stable/tutorials/reusage_interface/"/><meta property="twitter:url" content="https://docs.sciml.ai/Optimization/stable/tutorials/reusage_interface/"/><link rel="canonical" href="https://docs.sciml.ai/Optimization/stable/tutorials/reusage_interface/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="Optimization.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Optimization.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Optimization.jl: A Unified Optimization Package</a></li><li><a class="tocitem" href="../../getting_started/">Getting Started with Optimization.jl</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../certification/">Using SymbolicAnalysis.jl for convexity certificates</a></li><li><a class="tocitem" href="../constraints/">Using Equality and Inequality Constraints</a></li><li><a class="tocitem" href="../ensemble/">Multistart optimization with EnsembleProblem</a></li><li><a class="tocitem" href="../linearandinteger/">Linear and Integer Optimization Problems</a></li><li><a class="tocitem" href="../minibatch/">Data Iterators and Minibatching</a></li><li><a class="tocitem" href="../remakecomposition/">Creating polyalgorithms by chaining solvers using <code>remake</code></a></li><li class="is-active"><a class="tocitem" href>Optimization Problem Reusage and Caching Interface</a><ul class="internal"><li><a class="tocitem" href="#Reusing-Optimization-Caches-with-reinit!"><span>Reusing Optimization Caches with <code>reinit!</code></span></a></li></ul></li><li><a class="tocitem" href="../symbolic/">Symbolic Problem Building with ModelingToolkit</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../../examples/rosenbrock/">Solving the Rosenbrock Problem in &gt;10 Ways</a></li></ul></li><li><span class="tocitem">Basics</span><ul><li><a class="tocitem" href="../../API/optimization_problem/">Defining OptimizationProblems</a></li><li><a class="tocitem" href="../../API/optimization_function/">OptimizationFunction</a></li><li><a class="tocitem" href="../../API/ad/">Automatic Differentiation Construction Choice Recommendations</a></li><li><a class="tocitem" href="../../API/solve/">Common Solver Options (Solve Keyword Arguments)</a></li><li><a class="tocitem" href="../../API/optimization_solution/">Optimization Solutions</a></li><li><a class="tocitem" href="../../API/optimization_state/">OptimizationState</a></li><li><a class="tocitem" href="../../API/optimization_stats/">OptimizationStats</a></li><li><a class="tocitem" href="../../API/modelingtoolkit/">ModelingToolkit Integration</a></li><li><a class="tocitem" href="../../API/FAQ/">Frequently Asked Questions</a></li></ul></li><li><span class="tocitem">Optimizer Packages</span><ul><li><a class="tocitem" href="../../optimization_packages/blackboxoptim/">BlackBoxOptim.jl</a></li><li><a class="tocitem" href="../../optimization_packages/cmaevolutionstrategy/">CMAEvolutionStrategy.jl</a></li><li><a class="tocitem" href="../../optimization_packages/evolutionary/">Evolutionary.jl</a></li><li><a class="tocitem" href="../../optimization_packages/gcmaes/">GCMAES.jl</a></li><li><a class="tocitem" href="../../optimization_packages/ipopt/">Ipopt.jl</a></li><li><a class="tocitem" href="../../optimization_packages/manopt/">Manopt.jl</a></li><li><a class="tocitem" href="../../optimization_packages/mathoptinterface/">MathOptInterface.jl</a></li><li><a class="tocitem" href="../../optimization_packages/metaheuristics/">Metaheuristics.jl</a></li><li><a class="tocitem" href="../../optimization_packages/multistartoptimization/">MultistartOptimization.jl</a></li><li><a class="tocitem" href="../../optimization_packages/nlopt/">NLopt.jl</a></li><li><a class="tocitem" href="../../optimization_packages/nlpmodels/">NLPModels.jl</a></li><li><a class="tocitem" href="../../optimization_packages/nomad/">NOMAD.jl</a></li><li><a class="tocitem" href="../../optimization_packages/optim/">Optim.jl</a></li><li><a class="tocitem" href="../../optimization_packages/optimisers/">Optimisers.jl</a></li><li><a class="tocitem" href="../../optimization_packages/optimization/">Optimization.jl</a></li><li><a class="tocitem" href="../../optimization_packages/polyopt/">Polyalgorithms.jl</a></li><li><a class="tocitem" href="../../optimization_packages/prima/">PRIMA.jl</a></li><li><a class="tocitem" href="../../optimization_packages/pycma/">PyCMA.jl</a></li><li><a class="tocitem" href="../../optimization_packages/quaddirect/">QuadDIRECT.jl</a></li><li><a class="tocitem" href="../../optimization_packages/speedmapping/">SpeedMapping.jl</a></li><li><a class="tocitem" href="../../optimization_packages/scipy/">SciPy.jl</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li class="is-active"><a href>Optimization Problem Reusage and Caching Interface</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Optimization Problem Reusage and Caching Interface</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/SciML/Optimization.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/SciML/Optimization.jl/blob/master/docs/src/tutorials/reusage_interface.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Optimization-Problem-Reusage-and-Caching-Interface"><a class="docs-heading-anchor" href="#Optimization-Problem-Reusage-and-Caching-Interface">Optimization Problem Reusage and Caching Interface</a><a id="Optimization-Problem-Reusage-and-Caching-Interface-1"></a><a class="docs-heading-anchor-permalink" href="#Optimization-Problem-Reusage-and-Caching-Interface" title="Permalink"></a></h1><h2 id="Reusing-Optimization-Caches-with-reinit!"><a class="docs-heading-anchor" href="#Reusing-Optimization-Caches-with-reinit!">Reusing Optimization Caches with <code>reinit!</code></a><a id="Reusing-Optimization-Caches-with-reinit!-1"></a><a class="docs-heading-anchor-permalink" href="#Reusing-Optimization-Caches-with-reinit!" title="Permalink"></a></h2><p>The <code>reinit!</code> function allows you to efficiently reuse an existing optimization cache with new parameters or initial values. This is particularly useful when solving similar optimization problems repeatedly with different parameter values, as it avoids the overhead of creating a new cache from scratch.</p><h3 id="Basic-Usage"><a class="docs-heading-anchor" href="#Basic-Usage">Basic Usage</a><a id="Basic-Usage-1"></a><a class="docs-heading-anchor-permalink" href="#Basic-Usage" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Create initial problem and cache
using Optimization, OptimizationOptimJL, ADTypes, ForwardDiff
rosenbrock(u, p) = (p[1] - u[1])^2 + p[2] * (u[2] - u[1]^2)^2
u0 = zeros(2)
p = [1.0, 100.0]

optf = OptimizationFunction(rosenbrock, ADTypes.AutoForwardDiff())
prob = OptimizationProblem(optf, u0, p)

# Initialize cache and solve
cache = Optimization.init(prob, Optim.BFGS())
sol = Optimization.solve!(cache)

# Reinitialize cache with new parameters
cache = Optimization.reinit!(cache; p = [2.0, 50.0])
sol2 = Optimization.solve!(cache)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">retcode: Success
u: 2-element Vector{Float64}:
 1.0000000000045792
 1.000000000009481</code></pre><h3 id="Supported-Arguments"><a class="docs-heading-anchor" href="#Supported-Arguments">Supported Arguments</a><a id="Supported-Arguments-1"></a><a class="docs-heading-anchor-permalink" href="#Supported-Arguments" title="Permalink"></a></h3><p>The <code>reinit!</code> function supports updating various fields of the optimization cache:</p><ul><li><code>u0</code>: New initial values for the optimization variables</li><li><code>p</code>: New parameter values</li><li><code>lb</code>: New lower bounds (if applicable)</li><li><code>ub</code>: New upper bounds (if applicable)</li><li><code>lcons</code>: New lower bounds for constraints (if applicable)</li><li><code>ucons</code>: New upper bounds for constraints (if applicable)</li></ul><h3 id="Example:-Parameter-Sweep"><a class="docs-heading-anchor" href="#Example:-Parameter-Sweep">Example: Parameter Sweep</a><a id="Example:-Parameter-Sweep-1"></a><a class="docs-heading-anchor-permalink" href="#Example:-Parameter-Sweep" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Solve for multiple parameter values efficiently
results = []
p_values = [[1.0, 100.0], [2.0, 100.0], [3.0, 100.0]]

# Create initial cache
cache = Optimization.init(prob, Optim.BFGS())

function sweep(cache, p_values)
    for p in p_values
        cache = Optimization.reinit!(cache; p = p)
        sol = Optimization.solve!(cache)
        push!(results, (p = p, u = sol.u, objective = sol.objective))
    end
end

sweep(cache, p_values)</code></pre><h3 id="Example:-Updating-Initial-Values"><a class="docs-heading-anchor" href="#Example:-Updating-Initial-Values">Example: Updating Initial Values</a><a id="Example:-Updating-Initial-Values-1"></a><a class="docs-heading-anchor-permalink" href="#Example:-Updating-Initial-Values" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Warm-start optimization from different initial points
u0_values = [[0.0, 0.0], [0.5, 0.5], [1.0, 1.0]]

for u0 in u0_values
    local cache
    cache = Optimization.reinit!(cache; u0 = u0)
    sol = Optimization.solve!(cache)
    println(&quot;Starting from &quot;, u0, &quot; converged to &quot;, sol.u)
end</code></pre><h3 id="Performance-Benefits"><a class="docs-heading-anchor" href="#Performance-Benefits">Performance Benefits</a><a id="Performance-Benefits-1"></a><a class="docs-heading-anchor-permalink" href="#Performance-Benefits" title="Permalink"></a></h3><p>Using <code>reinit!</code> is more efficient than creating a new problem and cache for each parameter value, especially when:</p><ul><li>The optimization algorithm maintains internal state that can be reused</li><li>The problem structure remains the same (only parameter values change)</li></ul><h3 id="Notes"><a class="docs-heading-anchor" href="#Notes">Notes</a><a id="Notes-1"></a><a class="docs-heading-anchor-permalink" href="#Notes" title="Permalink"></a></h3><ul><li>The <code>reinit!</code> function modifies the cache in-place and returns it for convenience</li><li>Not all fields need to be specified; only provide the ones you want to update</li><li>The function is particularly useful in iterative algorithms, parameter estimation, and when solving families of related optimization problems</li><li>For creating a new problem with different parameters (rather than modifying a cache), use <code>remake</code> on the <code>OptimizationProblem</code> instead</li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../remakecomposition/">« Creating polyalgorithms by chaining solvers using <code>remake</code></a><a class="docs-footer-nextpage" href="../symbolic/">Symbolic Problem Building with ModelingToolkit »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Sunday 30 November 2025 12:48">Sunday 30 November 2025</span>. Using Julia version 1.12.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
