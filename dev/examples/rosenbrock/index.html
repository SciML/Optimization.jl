<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Solving the Rosenbrock Problem in &gt;10 Ways · Optimization.jl</title><meta name="title" content="Solving the Rosenbrock Problem in &gt;10 Ways · Optimization.jl"/><meta property="og:title" content="Solving the Rosenbrock Problem in &gt;10 Ways · Optimization.jl"/><meta property="twitter:title" content="Solving the Rosenbrock Problem in &gt;10 Ways · Optimization.jl"/><meta name="description" content="Documentation for Optimization.jl."/><meta property="og:description" content="Documentation for Optimization.jl."/><meta property="twitter:description" content="Documentation for Optimization.jl."/><meta property="og:url" content="https://docs.sciml.ai/Optimization/stable/examples/rosenbrock/"/><meta property="twitter:url" content="https://docs.sciml.ai/Optimization/stable/examples/rosenbrock/"/><link rel="canonical" href="https://docs.sciml.ai/Optimization/stable/examples/rosenbrock/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="Optimization.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Optimization.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Optimization.jl: A Unified Optimization Package</a></li><li><a class="tocitem" href="../../getting_started/">Getting Started with Optimization.jl</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../../tutorials/certification/">Using SymbolicAnalysis.jl for convexity certificates</a></li><li><a class="tocitem" href="../../tutorials/constraints/">Using Equality and Inequality Constraints</a></li><li><a class="tocitem" href="../../tutorials/ensemble/">Multistart optimization with EnsembleProblem</a></li><li><a class="tocitem" href="../../tutorials/linearandinteger/">Linear and Integer Optimization Problems</a></li><li><a class="tocitem" href="../../tutorials/minibatch/">Data Iterators and Minibatching</a></li><li><a class="tocitem" href="../../tutorials/remakecomposition/">Creating polyalgorithms by chaining solvers using <code>remake</code></a></li><li><a class="tocitem" href="../../tutorials/reusage_interface/">Optimization Problem Reusage and Caching Interface</a></li><li><a class="tocitem" href="../../tutorials/symbolic/">Symbolic Problem Building with ModelingToolkit</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li class="is-active"><a class="tocitem" href>Solving the Rosenbrock Problem in &gt;10 Ways</a><ul class="internal"><li><a class="tocitem" href="#Optim.jl-Solvers"><span>Optim.jl Solvers</span></a></li><li><a class="tocitem" href="#Evolutionary.jl-Solvers"><span>Evolutionary.jl Solvers</span></a></li><li><a class="tocitem" href="#IPOPT-through-OptimizationMOI"><span>IPOPT through OptimizationMOI</span></a></li><li><a class="tocitem" href="#Now-let&#39;s-switch-over-to-OptimizationOptimisers-with-reverse-mode-AD"><span>Now let&#39;s switch over to OptimizationOptimisers with reverse-mode AD</span></a></li><li><a class="tocitem" href="#Try-out-CMAEvolutionStrategy.jl&#39;s-evolutionary-methods"><span>Try out CMAEvolutionStrategy.jl&#39;s evolutionary methods</span></a></li><li><a class="tocitem" href="#Now-try-a-few-NLopt.jl-solvers-with-symbolic-differentiation-via-ModelingToolkit.jl"><span>Now try a few NLopt.jl solvers with symbolic differentiation via ModelingToolkit.jl</span></a></li><li><a class="tocitem" href="#BlackBoxOptim.jl-Solvers"><span>BlackBoxOptim.jl Solvers</span></a></li></ul></li></ul></li><li><span class="tocitem">Basics</span><ul><li><a class="tocitem" href="../../API/optimization_problem/">Defining OptimizationProblems</a></li><li><a class="tocitem" href="../../API/optimization_function/">OptimizationFunction</a></li><li><a class="tocitem" href="../../API/ad/">Automatic Differentiation Construction Choice Recommendations</a></li><li><a class="tocitem" href="../../API/solve/">Common Solver Options (Solve Keyword Arguments)</a></li><li><a class="tocitem" href="../../API/optimization_solution/">Optimization Solutions</a></li><li><a class="tocitem" href="../../API/optimization_state/">OptimizationState</a></li><li><a class="tocitem" href="../../API/optimization_stats/">OptimizationStats</a></li><li><a class="tocitem" href="../../API/modelingtoolkit/">ModelingToolkit Integration</a></li><li><a class="tocitem" href="../../API/FAQ/">Frequently Asked Questions</a></li></ul></li><li><span class="tocitem">Optimizer Packages</span><ul><li><a class="tocitem" href="../../optimization_packages/blackboxoptim/">BlackBoxOptim.jl</a></li><li><a class="tocitem" href="../../optimization_packages/cmaevolutionstrategy/">CMAEvolutionStrategy.jl</a></li><li><a class="tocitem" href="../../optimization_packages/evolutionary/">Evolutionary.jl</a></li><li><a class="tocitem" href="../../optimization_packages/gcmaes/">GCMAES.jl</a></li><li><a class="tocitem" href="../../optimization_packages/manopt/">Manopt.jl</a></li><li><a class="tocitem" href="../../optimization_packages/mathoptinterface/">MathOptInterface.jl</a></li><li><a class="tocitem" href="../../optimization_packages/metaheuristics/">Metaheuristics.jl</a></li><li><a class="tocitem" href="../../optimization_packages/multistartoptimization/">MultistartOptimization.jl</a></li><li><a class="tocitem" href="../../optimization_packages/nlopt/">NLopt.jl</a></li><li><a class="tocitem" href="../../optimization_packages/nlpmodels/">NLPModels.jl</a></li><li><a class="tocitem" href="../../optimization_packages/nomad/">NOMAD.jl</a></li><li><a class="tocitem" href="../../optimization_packages/optim/">Optim.jl</a></li><li><a class="tocitem" href="../../optimization_packages/optimisers/">Optimisers.jl</a></li><li><a class="tocitem" href="../../optimization_packages/optimization/">Optimization.jl</a></li><li><a class="tocitem" href="../../optimization_packages/polyopt/">Polyalgorithms.jl</a></li><li><a class="tocitem" href="../../optimization_packages/prima/">PRIMA.jl</a></li><li><a class="tocitem" href="../../optimization_packages/pycma/">PyCMA.jl</a></li><li><a class="tocitem" href="../../optimization_packages/quaddirect/">QuadDIRECT.jl</a></li><li><a class="tocitem" href="../../optimization_packages/speedmapping/">SpeedMapping.jl</a></li><li><a class="tocitem" href="../../optimization_packages/scipy/">SciPy.jl</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Examples</a></li><li class="is-active"><a href>Solving the Rosenbrock Problem in &gt;10 Ways</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Solving the Rosenbrock Problem in &gt;10 Ways</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/SciML/Optimization.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/SciML/Optimization.jl/blob/master/docs/src/examples/rosenbrock.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Solving-the-Rosenbrock-Problem-in-10-Ways"><a class="docs-heading-anchor" href="#Solving-the-Rosenbrock-Problem-in-10-Ways">Solving the Rosenbrock Problem in &gt;10 Ways</a><a id="Solving-the-Rosenbrock-Problem-in-10-Ways-1"></a><a class="docs-heading-anchor-permalink" href="#Solving-the-Rosenbrock-Problem-in-10-Ways" title="Permalink"></a></h1><p>This example is a demonstration of many different solvers to demonstrate the flexibility of Optimization.jl. This is a gauntlet of many solvers to get a feel for common workflows of the package and give copy-pastable starting points.</p><div class="admonition is-info" id="Note-8022287a97b05c10"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-8022287a97b05c10" title="Permalink"></a></header><div class="admonition-body"><p>This example uses many different solvers of Optimization.jl. Each solver subpackage needs to be installed separate. For example, for the details on the installation and usage of OptimizationOptimJL.jl package, see the <a href="../../optimization_packages/optim/#optim">Optim.jl page</a>.</p></div></div><pre><code class="language-julia hljs"># Define the problem to solve
using Optimization, ForwardDiff, Zygote

rosenbrock(x, p) = (p[1] - x[1])^2 + p[2] * (x[2] - x[1]^2)^2
x0 = zeros(2)
_p = [1.0, 100.0]

f = OptimizationFunction(rosenbrock, Optimization.AutoForwardDiff())
l1 = rosenbrock(x0, _p)
prob = OptimizationProblem(f, x0, _p)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi"><span class="sgr38_2" style="color:#56b6c2">OptimizationProblem</span>. In-place: <span class="sgr38_2" style="color:#56b6c2">true</span>
u0: 2-element Vector{Float64}:
 0.0
 0.0</code></pre><h2 id="Optim.jl-Solvers"><a class="docs-heading-anchor" href="#Optim.jl-Solvers">Optim.jl Solvers</a><a id="Optim.jl-Solvers-1"></a><a class="docs-heading-anchor-permalink" href="#Optim.jl-Solvers" title="Permalink"></a></h2><h3 id="Start-with-some-derivative-free-optimizers"><a class="docs-heading-anchor" href="#Start-with-some-derivative-free-optimizers">Start with some derivative-free optimizers</a><a id="Start-with-some-derivative-free-optimizers-1"></a><a class="docs-heading-anchor-permalink" href="#Start-with-some-derivative-free-optimizers" title="Permalink"></a></h3><pre><code class="language-julia hljs">using OptimizationOptimJL
sol = solve(prob, SimulatedAnnealing())
prob = OptimizationProblem(f, x0, _p, lb = [-1.0, -1.0], ub = [0.8, 0.8])
sol = solve(prob, SAMIN())

l1 = rosenbrock(x0, _p)
prob = OptimizationProblem(rosenbrock, x0, _p)
sol = solve(prob, NelderMead())</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">retcode: Success
u: 2-element Vector{Float64}:
 0.9999634355313174
 0.9999315506115275</code></pre><h3 id="Now-a-gradient-based-optimizer-with-forward-mode-automatic-differentiation"><a class="docs-heading-anchor" href="#Now-a-gradient-based-optimizer-with-forward-mode-automatic-differentiation">Now a gradient-based optimizer with forward-mode automatic differentiation</a><a id="Now-a-gradient-based-optimizer-with-forward-mode-automatic-differentiation-1"></a><a class="docs-heading-anchor-permalink" href="#Now-a-gradient-based-optimizer-with-forward-mode-automatic-differentiation" title="Permalink"></a></h3><pre><code class="language-julia hljs">optf = OptimizationFunction(rosenbrock, Optimization.AutoForwardDiff())
prob = OptimizationProblem(optf, x0, _p)
sol = solve(prob, BFGS())</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">retcode: Success
u: 2-element Vector{Float64}:
 0.9999999999373614
 0.999999999868622</code></pre><h3 id="Now-a-second-order-optimizer-using-Hessians-generated-by-forward-mode-automatic-differentiation"><a class="docs-heading-anchor" href="#Now-a-second-order-optimizer-using-Hessians-generated-by-forward-mode-automatic-differentiation">Now a second order optimizer using Hessians generated by forward-mode automatic differentiation</a><a id="Now-a-second-order-optimizer-using-Hessians-generated-by-forward-mode-automatic-differentiation-1"></a><a class="docs-heading-anchor-permalink" href="#Now-a-second-order-optimizer-using-Hessians-generated-by-forward-mode-automatic-differentiation" title="Permalink"></a></h3><pre><code class="language-julia hljs">sol = solve(prob, Newton())</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">retcode: Success
u: 2-element Vector{Float64}:
 0.9999999999999994
 0.9999999999999989</code></pre><h3 id="Now-a-second-order-Hessian-free-optimizer"><a class="docs-heading-anchor" href="#Now-a-second-order-Hessian-free-optimizer">Now a second order Hessian-free optimizer</a><a id="Now-a-second-order-Hessian-free-optimizer-1"></a><a class="docs-heading-anchor-permalink" href="#Now-a-second-order-Hessian-free-optimizer" title="Permalink"></a></h3><pre><code class="language-julia hljs">sol = solve(prob, Optim.KrylovTrustRegion())</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">retcode: Success
u: 2-element Vector{Float64}:
 0.999999999999108
 0.9999999999981819</code></pre><h3 id="Now-derivative-based-optimizers-with-various-constraints"><a class="docs-heading-anchor" href="#Now-derivative-based-optimizers-with-various-constraints">Now derivative-based optimizers with various constraints</a><a id="Now-derivative-based-optimizers-with-various-constraints-1"></a><a class="docs-heading-anchor-permalink" href="#Now-derivative-based-optimizers-with-various-constraints" title="Permalink"></a></h3><pre><code class="language-julia hljs">cons = (res, x, p) -&gt; res .= [x[1]^2 + x[2]^2]
optf = OptimizationFunction(rosenbrock, Optimization.AutoForwardDiff(); cons = cons)

prob = OptimizationProblem(optf, x0, _p, lcons = [-Inf], ucons = [Inf])
sol = solve(prob, IPNewton()) # Note that -Inf &lt; x[1]^2 + x[2]^2 &lt; Inf is always true

prob = OptimizationProblem(optf, x0, _p, lcons = [-5.0], ucons = [10.0])
sol = solve(prob, IPNewton()) # Again, -5.0 &lt; x[1]^2 + x[2]^2 &lt; 10.0

prob = OptimizationProblem(optf, x0, _p, lcons = [-Inf], ucons = [Inf],
    lb = [-500.0, -500.0], ub = [50.0, 50.0])
sol = solve(prob, IPNewton())

prob = OptimizationProblem(optf, x0, _p, lcons = [0.5], ucons = [0.5],
    lb = [-500.0, -500.0], ub = [50.0, 50.0])
sol = solve(prob, IPNewton())

# Notice now that x[1]^2 + x[2]^2 ≈ 0.5:
res = zeros(1)
cons(res, sol.u, _p)
println(res)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">┌ Warning: The selected optimization algorithm requires second order derivatives, but `SecondOrder` ADtype was not provided.
│         So a `SecondOrder` with AutoForwardDiff() for both inner and outer will be created, this can be suboptimal and not work in some cases so
│         an explicit `SecondOrder` ADtype is recommended.
└ @ OptimizationBase ~/.julia/packages/OptimizationBase/1tTb9/src/cache.jl:49
┌ Warning: The selected optimization algorithm requires second order derivatives, but `SecondOrder` ADtype was not provided.
│         So a `SecondOrder` with AutoForwardDiff() for both inner and outer will be created, this can be suboptimal and not work in some cases so
│         an explicit `SecondOrder` ADtype is recommended.
└ @ OptimizationBase ~/.julia/packages/OptimizationBase/1tTb9/src/cache.jl:49
┌ Warning: The selected optimization algorithm requires second order derivatives, but `SecondOrder` ADtype was not provided.
│         So a `SecondOrder` with AutoForwardDiff() for both inner and outer will be created, this can be suboptimal and not work in some cases so
│         an explicit `SecondOrder` ADtype is recommended.
└ @ OptimizationBase ~/.julia/packages/OptimizationBase/1tTb9/src/cache.jl:49
┌ Warning: The selected optimization algorithm requires second order derivatives, but `SecondOrder` ADtype was not provided.
│         So a `SecondOrder` with AutoForwardDiff() for both inner and outer will be created, this can be suboptimal and not work in some cases so
│         an explicit `SecondOrder` ADtype is recommended.
└ @ OptimizationBase ~/.julia/packages/OptimizationBase/1tTb9/src/cache.jl:49
[0.49999999999999994]</code></pre><pre><code class="language-julia hljs">function con_c(res, x, p)
    res .= [x[1]^2 + x[2]^2]
end

optf = OptimizationFunction(rosenbrock, Optimization.AutoForwardDiff(); cons = con_c)
prob = OptimizationProblem(optf, x0, _p, lcons = [-Inf], ucons = [0.25^2])
sol = solve(prob, IPNewton()) # -Inf &lt; cons_circ(sol.u, _p) = 0.25^2</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">retcode: Success
u: 2-element Vector{Float64}:
 0.24327905408863862
 0.05757865786675858</code></pre><h2 id="Evolutionary.jl-Solvers"><a class="docs-heading-anchor" href="#Evolutionary.jl-Solvers">Evolutionary.jl Solvers</a><a id="Evolutionary.jl-Solvers-1"></a><a class="docs-heading-anchor-permalink" href="#Evolutionary.jl-Solvers" title="Permalink"></a></h2><pre><code class="language-julia hljs">using OptimizationEvolutionary
sol = solve(prob, CMAES(μ = 40, λ = 100), abstol = 1e-15) # -Inf &lt; cons_circ(sol.u, _p) = 0.25^2</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">retcode: Success
u: 2-element Vector{Float64}:
 0.243255092005265
 0.057679807675737424</code></pre><h2 id="IPOPT-through-OptimizationMOI"><a class="docs-heading-anchor" href="#IPOPT-through-OptimizationMOI">IPOPT through OptimizationMOI</a><a id="IPOPT-through-OptimizationMOI-1"></a><a class="docs-heading-anchor-permalink" href="#IPOPT-through-OptimizationMOI" title="Permalink"></a></h2><pre><code class="language-julia hljs">using OptimizationMOI, Ipopt

function con2_c(res, x, p)
    res .= [x[1]^2 + x[2]^2, x[2] * sin(x[1]) - x[1]]
end

optf = OptimizationFunction(rosenbrock, Optimization.AutoZygote(); cons = con2_c)
prob = OptimizationProblem(optf, x0, _p, lcons = [-Inf, -Inf], ucons = [100.0, 100.0])
sol = solve(prob, Ipopt.Optimizer())</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">retcode: Success
u: 2-element Vector{Float64}:
 0.9999999999080653
 0.9999999998157655</code></pre><h2 id="Now-let&#39;s-switch-over-to-OptimizationOptimisers-with-reverse-mode-AD"><a class="docs-heading-anchor" href="#Now-let&#39;s-switch-over-to-OptimizationOptimisers-with-reverse-mode-AD">Now let&#39;s switch over to OptimizationOptimisers with reverse-mode AD</a><a id="Now-let&#39;s-switch-over-to-OptimizationOptimisers-with-reverse-mode-AD-1"></a><a class="docs-heading-anchor-permalink" href="#Now-let&#39;s-switch-over-to-OptimizationOptimisers-with-reverse-mode-AD" title="Permalink"></a></h2><pre><code class="language-julia hljs">import OptimizationOptimisers
optf = OptimizationFunction(rosenbrock, Optimization.AutoZygote())
prob = OptimizationProblem(optf, x0, _p)
sol = solve(prob, OptimizationOptimisers.Adam(0.05), maxiters = 1000, progress = false)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">retcode: Default
u: 2-element Vector{Float64}:
 0.999957450694706
 0.9999163934196296</code></pre><h2 id="Try-out-CMAEvolutionStrategy.jl&#39;s-evolutionary-methods"><a class="docs-heading-anchor" href="#Try-out-CMAEvolutionStrategy.jl&#39;s-evolutionary-methods">Try out CMAEvolutionStrategy.jl&#39;s evolutionary methods</a><a id="Try-out-CMAEvolutionStrategy.jl&#39;s-evolutionary-methods-1"></a><a class="docs-heading-anchor-permalink" href="#Try-out-CMAEvolutionStrategy.jl&#39;s-evolutionary-methods" title="Permalink"></a></h2><pre><code class="language-julia hljs">using OptimizationCMAEvolutionStrategy
sol = solve(prob, CMAEvolutionStrategyOpt())</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">retcode: Failure
u: 2-element Vector{Float64}:
 0.9999997197156343
 0.9999994417913421</code></pre><h2 id="Now-try-a-few-NLopt.jl-solvers-with-symbolic-differentiation-via-ModelingToolkit.jl"><a class="docs-heading-anchor" href="#Now-try-a-few-NLopt.jl-solvers-with-symbolic-differentiation-via-ModelingToolkit.jl">Now try a few NLopt.jl solvers with symbolic differentiation via ModelingToolkit.jl</a><a id="Now-try-a-few-NLopt.jl-solvers-with-symbolic-differentiation-via-ModelingToolkit.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Now-try-a-few-NLopt.jl-solvers-with-symbolic-differentiation-via-ModelingToolkit.jl" title="Permalink"></a></h2><pre><code class="language-julia hljs">using OptimizationNLopt, ModelingToolkit
optf = OptimizationFunction(rosenbrock, Optimization.AutoModelingToolkit())
prob = OptimizationProblem(optf, x0, _p)

sol = solve(prob, Opt(:LN_BOBYQA, 2))
sol = solve(prob, Opt(:LD_LBFGS, 2))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">retcode: Success
u: 2-element Vector{Float64}:
 0.9999999999894374
 0.9999999999844783</code></pre><h3 id="Add-some-box-constraints-and-solve-with-a-few-NLopt.jl-methods"><a class="docs-heading-anchor" href="#Add-some-box-constraints-and-solve-with-a-few-NLopt.jl-methods">Add some box constraints and solve with a few NLopt.jl methods</a><a id="Add-some-box-constraints-and-solve-with-a-few-NLopt.jl-methods-1"></a><a class="docs-heading-anchor-permalink" href="#Add-some-box-constraints-and-solve-with-a-few-NLopt.jl-methods" title="Permalink"></a></h3><pre><code class="language-julia hljs">prob = OptimizationProblem(optf, x0, _p, lb = [-1.0, -1.0], ub = [0.8, 0.8])
sol = solve(prob, Opt(:LD_LBFGS, 2))
sol = solve(prob, Opt(:G_MLSL_LDS, 2), local_method = Opt(:LD_LBFGS, 2), maxiters = 10000) #a global optimizer with random starts of local optimization</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">retcode: MaxIters
u: 2-element Vector{Float64}:
 0.8
 0.6400000000000001</code></pre><h2 id="BlackBoxOptim.jl-Solvers"><a class="docs-heading-anchor" href="#BlackBoxOptim.jl-Solvers">BlackBoxOptim.jl Solvers</a><a id="BlackBoxOptim.jl-Solvers-1"></a><a class="docs-heading-anchor-permalink" href="#BlackBoxOptim.jl-Solvers" title="Permalink"></a></h2><pre><code class="language-julia hljs">using OptimizationBBO
prob = Optimization.OptimizationProblem(rosenbrock, [0.0, 0.3], _p, lb = [-1.0, 0.2],
    ub = [0.8, 0.43])
sol = solve(prob, BBO_adaptive_de_rand_1_bin()) # -1.0 ≤ x[1] ≤ 0.8, 0.2 ≤ x[2] ≤ 0.43</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">retcode: MaxIters
u: 2-element Vector{Float64}:
 0.6577248385381987
 0.43</code></pre><p>And this is only a small subset of what Optimization.jl has to offer!</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../tutorials/symbolic/">« Symbolic Problem Building with ModelingToolkit</a><a class="docs-footer-nextpage" href="../../API/optimization_problem/">Defining OptimizationProblems »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Saturday 2 August 2025 13:11">Saturday 2 August 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
